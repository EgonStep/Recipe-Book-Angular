<div class="p-col">
  <button pButton type="button" label="Save" class="ui-button-success margin" [disabled]="!recipeForm.valid" (click)="onSubmit()"></button>
  <button pButton type="button" label="Cancel" class="ui-button-danger margin" (click)="onCancel()"></button>
</div>

<div class="p-col">
  <form [formGroup]="recipeForm">
    <div class="p-col-fixed">Name</div>
    <div class="p-col">
      <input class="p-col-8" id="name" type="text" pInputText formControlName="name">
    </div>
    <div class="p-col-fixed">Image URL</div>
    <div class="p-col">
      <input class="p-col-8" id="imagePath" type="text" pInputText formControlName="imagePath" #imagePath>
    </div>
    <div class="p-col">
      <img [src]="imagePath.value" class="img-responsive">
    </div>
    <div class="p-col-fixed">Description</div>
    <div class="p-col">
      <textarea class="p-col-8" id="imagePath" type="text" pInputText formControlName="description"></textarea>
    </div>

    <div class="p-col-fixed"> Ingredients</div>
    <div class="p-col" formArrayName="ingredients">
      <div class="row" *ngFor="let control of controls; let i = index" [formGroupName]="i">
        <input class="p-col-4" type="text" pInputText formControlName="name">
        <input class="p-col-3" type="number"  pInputText formControlName="amount">
        <button pButton type="button" label="X" class="ui-button-danger" (click)="onDeleteIngredient(i)"></button>
      </div>
    </div>
    <button pButton type="button" label="Add Ingredient" class="ui-button-success margin" (click)="onAddIngredient()"></button>
    <button pButton type="button" label="Remove All Ingredients" class="ui-button-danger margin" (click)="onRemoveAllIngredient()"></button>

  </form>
</div>
